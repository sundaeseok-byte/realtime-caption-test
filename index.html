<!DOCTYPE html>

<html lang="ko">

<head>

<meta charset="UTF-8">

<title>ì‹¤ì‹œê°„ í•œêµ­ì–´ ìë§‰</title>

<style>

  body { font-family: sans-serif; background:#111; color:#eee; margin:0; }

  header { padding:10px; border-bottom:1px solid #444; }

  button { padding:8px 12px; margin-right:5px; }

  #screen { padding:12px; height:80vh; overflow-y:auto; white-space:pre-wrap; }

  #interim { opacity:0.6; font-style:italic; }

</style>

</head>

<body>

  <header>

    <button id="toggle">ğŸ™ï¸ ì‹œì‘</button>

    <button id="clear">ğŸ§¹ ì§€ìš°ê¸°</button>

  </header>

  <div id="screen"></div>

  <div id="interim"></div>



<script>

const Rec = window.SpeechRecognition || window.webkitSpeechRecognition;

if (!Rec) {

  document.body.innerHTML = "<p>ì´ ë¸Œë¼ìš°ì €ëŠ” ìŒì„± ì¸ì‹ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>";

} else {

  const r = new Rec();

  r.lang = "ko-KR";

  r.continuous = true;

  r.interimResults = true;



  let recognizing = false;

  let screen = document.getElementById("screen");

  let interimDiv = document.getElementById("interim");



  r.onresult = (e) => {

    let interim = "";

    for (let i=e.resultIndex; i<e.results.length; i++) {

      let txt = e.results[i][0].transcript;

      if (e.results[i].isFinal) {

        screen.textContent += txt.trim() + "\n";

        interimDiv.textContent = "";

      } else {

        interim += txt;

      }

    }

    interimDiv.textContent = interim;

    screen.scrollTop = screen.scrollHeight;

  };



  document.getElementById("toggle").onclick = () => {

    if (!recognizing) {

      r.start();

      recognizing = true;

      toggle.textContent = "â¸ï¸ ì¤‘ì§€";

    } else {

      r.stop();

      recognizing = false;

      toggle.textContent = "ğŸ™ï¸ ì‹œì‘";

    }

  };

  document.getElementById("clear").onclick = () => {

    screen.textContent = "";

    interimDiv.textContent = "";

  };

}

</script>

</body>

</html>